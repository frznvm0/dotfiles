#!/bin/sh

aura="/usr/bin/aura"

getopts :RSUABCMOFG opt
case "$opt" in
  R|U|B) sudo -E $aura "$@" ;;
  O) # Orphans
    getopts :j opt
    $([ "$opt" == j -o -n "$2" ] && echo sudo -E) $aura "$@"
    ;;
  C) # Cache
    getopts :s opt
    $([ "$opt" == s ] || echo sudo -E) $aura "$@"
    ;;
  S) # Sync
    getopts :pgils opt
    case "$opt" in
      p|g|i|l|s) $aura "$@" ;;
      *) sudo -E $aura "$@" ;;
    esac
    ;;
  A) # AUR
    getopts :dipqsw opt
    case "$opt" in
      d|i|p|q|s|w) $aura "$@" ;;
      *) sudo -E $aura --hotedit "$@" ;;
    esac
    ;;
  M) # ABS
    getopts :dips opt
    case "$opt" in
      d|i|p|s) $aura "$@" ;;
      *) sudo -E $aura --hotedit "$@" ;;
    esac
    ;;
  F) # Find
    $aura -Ss "$2"
    $aura -As "$2"
    $aura -Ms "$2"
    ;;
  *) # Update or call $aura
    if [ -z "$1" ]; then
      sudo -E -- sh -c "$aura -Syu; $aura -Auk"
    else
      $aura "$@"
    fi
    ;;
esac

